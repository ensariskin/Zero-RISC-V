\phantomsection
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{DOĞRULAMA VE SONUÇLAR}\label{ch:dogrulama}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

Bu bölümde, tasarlanan üç yollu süperölçekli sıra dışı yürütme özellikli RISC-V işlemcisinin doğrulama metodolojisi, fonksiyonel test sonuçları, lojik sentez ve fiziksel tasarım sonuçları kapsamlı olarak ele alınmaktadır. Doğrulama sürecinde referans model tabanlı karşılaştırma yöntemi kullanılmış, sentez ve fiziksel tasarım aşamalarında endüstri standardı araçlar ile gerçek silikon üretim kütüphaneleri kullanılarak sonuçlar elde edilmiştir.

%------------------------------------------------------------------------
\section{Doğrulama Metodolojisi}\label{sec:metodoloji}
%------------------------------------------------------------------------

Süperölçekli işlemci tasarımlarının doğrulanması, tek yollu tasarımlara kıyasla önemli ölçüde daha karmaşık bir süreç gerektirmektedir. Aynı anda birden fazla komutun getirilmesi, çözümlenmesi ve yürütülmesi; veri bağımlılıklarının dinamik olarak yönetilmesi; spekülatif yürütme ve yanlış tahmin durumunda kurtarma mekanizmalarının doğruluğu gibi pek çok kritik fonksiyonun birlikte test edilmesi gerekmektedir. Bu çalışmada, kapsamlı bir doğrulama stratejisi izlenmiş olup, hem rastgele test programları hem de deterministik algoritma tabanlı test programları kullanılmıştır.

\subsection{Simülasyon Ortamı ve Araçları}\label{subsec:sim_ortami}

Tasarımın fonksiyonel doğrulaması için Metrics Design Automation firmasının geliştirdiği DSIM simülasyon aracı kullanılmıştır. DSIM, SystemVerilog dilinin tüm özelliklerini destekleyen, yüksek performanslı bir dijital simülasyon ortamı sağlamaktadır. Simülasyon süresince işlemcinin davranışını izlemek ve kayıt altına almak amacıyla özel bir izleme altyapısı geliştirilmiştir.

Geliştirilen izleme altyapısı, işlemcinin üç yollu commit aşamasından çıkan her komutu kayıt altına almaktadır. Her bir tamamlanan komut için program sayacı değeri, komut kodu, hedef yazmaç adresi ile yazılan değer ve bellek yazma işlemlerinde adres ile veri bilgileri kaydedilmektedir. Bu kayıtlar, referans model ile karşılaştırma amacıyla kullanılmaktadır.

Referans model olarak Berkeley Üniversitesi tarafından geliştirilen ve RISC-V komut seti mimarisinin resmi referans gerçeklemesi olarak kabul edilen Spike komut seti simülatörü kullanılmıştır \cite{spike_iss}. Spike, RISC-V komutlarının davranışını tam olarak tanımlayan altın model (golden model) niteliğindedir. Tasarlanan işlemci ile Spike aynı test programlarını çalıştırmakta ve her iki tarafın ürettiği izleme kayıtları satır satır karşılaştırılmaktadır. Bu karşılaştırma otomatikleştirilmiş Python betikleri aracılığıyla gerçekleştirilmekte olup, herhangi bir uyumsuzluk tespit edildiğinde ilgili komutun adresi, beklenen ve gerçekleşen değerler ile birlikte raporlanmaktadır.

\subsection{Test Programları ve Kapsam}\label{subsec:test_vektorleri}

Doğrulama sürecinde iki farklı kategoride test programı kullanılmıştır. Birinci kategori, kısıtlama tabanlı rastgele test üretim çerçevesi kullanılarak oluşturulan rastgele komut dizileridir. İkinci kategori ise gerçek algoritmik iş yüklerini temsil eden, özel olarak geliştirilen deterministik C programlarıdır.

\subsubsection{Kısıtlama Tabanlı Rastgele Test Programları}

Rastgele test programları, Google tarafından geliştirilen ve açık kaynak olarak sunulan RISC-V DV doğrulama çerçevesi kullanılarak üretilmiştir \cite{riscv_dv}. Bu çerçeve, belirli mikromimari senaryolarını hedefleyen yönlendirilmiş komut akışları (directed instruction streams) oluşturma yeteneğine sahiptir. Farklı işlemci alt sistemlerini stres altına sokmak amacıyla altı farklı test konfigürasyonu hazırlanmıştır.

Tablo \ref{tab:riscv_dv_tests}, kullanılan rastgele test programlarını, her birinin hedeflediği mikromimari bileşenleri ve üretilen komut sayılarını özetlemektedir.

\begin{table}[htbp]
\centering
\caption{Kısıtlama Tabanlı Rastgele Test Programları}
\label{tab:riscv_dv_tests}
\begin{tabular}{p{4cm} r p{7cm}}
\toprule
\textbf{Test Programı} & \textbf{Komut} & \textbf{Hedeflenen Senaryo ve Açıklama} \\
\midrule
Temel Aritmetik Testi & 30.000 & Yalnızca aritmetik ve mantıksal komutlar içermekte olup dallanma ve bellek erişim komutları devre dışı bırakılmıştır. Aritmetik mantık birimi performansı ve veri bağımlılığı çözümlemesi test edilmektedir. \\
\midrule
Karmaşık Aritmetik Testi & 10.000 & Tamsayı aritmetiğinin sınır değer durumlarını (taşma, alt taşma, maksimum ve minimum değerler) içeren özel komut akışları kullanılmaktadır. Aritmetik birimlerin köşe durumlarındaki davranışı doğrulanmaktadır. \\
\midrule
Temel Dallanma Testi & 30.000 & Koşullu dallanma ve koşulsuz atlama komutlarını içeren rastgele komut dizileri üretilmektedir. Dal tahmini mekanizmasının temel doğruluğu test edilmektedir. \\
\midrule
Karmaşık Dallanma Testi & 30.000 & Yoğun döngü yapıları ve iç içe dallanma desenlerini içeren komut akışları kullanılmaktadır. Dal tahmini güncelleme mekanizması ve yanlış tahmin kurtarma yolu stres altına alınmaktadır. \\
\midrule
Temel Bellek Testi & 10.000 & Yükleme ve saklama komutlarını yoğun biçimde içeren rastgele bellek erişim desenleri üretilmektedir. Yükleme-saklama kuyruğu ve bellek alt sistemi test edilmektedir. \\
\midrule
Karma Test & 30.000 & Tüm yönlendirilmiş akış türlerinin kombinasyonunu içermektedir. Gerçek uygulama iş yüklerine benzer karmaşık senaryolar oluşturulmaktadır. \\
\bottomrule
\end{tabular}
\end{table}

Rastgele test programları toplamda yaklaşık 140.000 komut içermekte olup, işlemcinin temel fonksiyonel bloklarının büyük çoğunluğunu kapsamaktadır. Süperölçekli bir mimari için kritik olan veri bağımlılığı (RAW, WAW, WAR), ardışık atlama (back-to-back jump) ve hizalanmamış bellek erişimi gibi karmaşık senaryolar bu rastgele akışlar sayesinde stres altına alınmıştır. Test kapsamı; boru hattındaki kaynakların (ROB, RS, LSQ) sınır değerlerdeki davranışını ve spekülatif yürütme sonrası kurtarma mekanizmalarının doğruluğunu kanıtlamak için yeterli seviyeye ulaştırılmıştır.

\subsubsection{Algoritma Tabanlı Deterministik Test Programları}

Rastgele test programlarının yanı sıra, gerçek uygulama senaryolarını modelleyen karmaşık algoritmik C programları da geliştirilmiştir. Bu programlar RISC-V GCC derleyicisi kullanılarak derlenmiş ve işlemci üzerinde çalıştırılmıştır.

En kapsamlı test programı, derleme opsiyonlarına bağlı olarak yaklaşık 67.000 ile 70.000 arasında komut üretmektedir. Bu program, bilgisayar bilimlerinin temel algoritmalarından oluşan bir koleksiyon içermekte olup, işlemcinin farklı hesaplama desenleri, bellek erişim kalıpları ve kontrol akışı yapıları altındaki davranışını test etmektedir.

Programa dahil edilen algoritmalar ve bunların mikromimari seviyesinde hedeflediği işlemci karakteristiği Tablo \ref{tab:algorithm_tests} üzerinde gösterilmektedir:

\begin{table}[htbp]
\centering
\caption{Algoritma Tabanlı Deterministik Test Programları}
\label{tab:algorithm_tests}
\begin{tabular}{p{4cm} p{8cm}}
\toprule
\textbf{Algoritma Grubu} & \textbf{Hedeflenen İşlemci Karakteristiği} \\
\midrule
Dijkstra ve Topolojik Sıralama & Yoğun bellek erişimi ve düzensiz dallanma desenleri ile LSQ ve dal tahminci yüklemesi. \\
\midrule
0/1 Sırt Çantası ve Edit Uzaklığı & Matris tabanlı veri erişimi ve ardışık veri bağımlılık zincirleri ile RS ve CDB kullanımı. \\
\midrule
Yığın Sıralaması (Heap Sort) & Karşılaştırma ve yer değiştirme işlemlerinin yoğun tekrarı ile spekülatif yürütme başarımı. \\
\midrule
KMP Dizi Eşleme & Döngü tabanlı karakter karşılaştırmaları ve sık dallanma işlemleri. \\
\midrule
Eratosthenes Kalburu ve Asal Çarpanlar & Yoğun aritmetik işlem kapasitesi ve ALU birimlerinin stres testi. \\
\midrule
Matris Üstelleştirme (Fibonacci) & Rekürsif yapılar ve yoğun yazmaç kullanımı ile Rename/Physical Register File yönetimi. \\
\midrule
Bit Manipülasyonu ve XOR Lineer Baz & Karmaşık mantıksal işlem dizileri ve veri yolu bütünlüğü. \\
\midrule
Minimax (Tic-Tac-Toe) & Derin özyinelemeli fonksiyon çağrıları (call/return) ile RAS (Return Address Stack) başarımı. \\
\bottomrule
\end{tabular}
\end{table}

Bu algoritmalar, birbirinden farklı hesaplama karakteristikleri sergilemektedir. Graf algoritmaları yoğun bellek erişimi ve düzensiz dallanma desenleri içerirken, dinamik programlama algoritmaları matris tabanlı erişim kalıpları ve yoğun bağımlılık zincirleri oluşturmaktadır. Sıralama algoritmaları karşılaştırma ve değiştirme işlemlerinin yoğun tekrarını gerektirmekte, metin işleme algoritmaları ise döngü tabanlı karakter karşılaştırmaları içermektedir.

%------------------------------------------------------------------------
\section{Fonksiyonel Doğrulama Sonuçları}\label{sec:test_sonuclari}
%------------------------------------------------------------------------

\subsection{Test Geçme Oranları ve Karşılaştırma Sonuçları}\label{subsec:fonk_dogruluk}

Tüm test programları Spike referans modeli ile karşılaştırmalı olarak çalıştırılmış ve sonuçlar analiz edilmiştir. Tablo \ref{tab:test_results}, elde edilen sonuçları özetlemektedir.

\begin{table}[htbp]
\centering
\caption{Fonksiyonel Doğrulama Sonuçları}
\label{tab:test_results}
\begin{tabular}{p{6cm} r r}
\toprule
\textbf{Test Kategorisi} & \textbf{Komut Sayısı} & \textbf{Geçme Oranı} \\
\midrule
Kısıtlama Tabanlı Rastgele Testler & $\sim$140.000 & \%100 \\
\midrule
Algoritma Tabanlı Deterministik Test & $\sim$67.000-70.000 & \%100 \\
\midrule
\textbf{Toplam Test Kapsamı} & $\sim$207.000-210.000 & \textbf{\%100} \\
\bottomrule
\end{tabular}
\end{table}

Doğrulama sonuçları, tasarlanan işlemcinin RV32I komut seti mimarisini fonksiyonel olarak eksiksiz ve doğru biçimde gerçeklediğini ortaya koymaktadır. Yaklaşık 210.000 komutluk test kapsamında, Spike referans modeli ile tam uyumluluk sağlanmıştır. Her bir test komutunun tamamlanma sırası, hesaplanan sonuç değerleri ve bellek yazma işlemleri referans model ile birebir örtüşmektedir.

Fonksiyonel doğruluğun sağlanması, sıra dışı yürütme yapısının temel mekanizmalarının doğru çalıştığını göstermektedir. Bu mekanizmalar; yazmaç yeniden adlandırma ile veri bağımlılıklarının çözümlenmesi, spekülatif yürütme sırasında mimari durumun korunması, dal yanlış tahmini durumunda doğru kurtarma noktasına geri dönülmesi ve yükleme-saklama işlemlerinin bellek sıralamasını ihlal etmeden tamamlanmasıdır.

%------------------------------------------------------------------------
\section{Performans Analizi}\label{sec:performans_analizi}
%------------------------------------------------------------------------

İşlemcinin süperölçekli mimarisinin verimliliğini değerlendirmek amacıyla, farklı iş yükleri altında çevrim başına yürütülen ortalama komut sayısı (IPC) ve boru hattındaki performans darboğazları analiz edilmiştir. Geliştirilen test ortamı, simülasyon sırasında işlemcinin performans parametrelerini eşzamanlı olarak raporlayabilme yeteneğine sahiptir.

Tasarlanan üç yollu süperölçekli işlemcinin sağladığı başarım artışını nicelleştirmek adına, aynı mimarinin tek yollu (scalar) versiyonu ile karşılaştırmalı testler yapılmıştır. Simülasyonlar, doğrulama ortamında 10 ns (100 MHz) saat periyodu kullanılarak gerçekleştirilmiştir. Tablo \ref{tab:ipc_results_deterministik}, Bölüm \ref{subsec:test_vektorleri}'de tanımlanan deterministik algoritma seti üzerinde elde edilen ortalama performans metriklerini sunmaktadır.

\begin{table}[htbp]
\centering
\caption{Deterministik Testler Altında 1-Yollu ve 3-Yollu Konfigürasyonların Karşılaştırması}
\label{tab:ipc_results_deterministik}
\begin{tabular}{l c c c}
\toprule
\textbf{Mimari Yapı} & \textbf{Yürütme Süresi ($\mu$s)} & \textbf{Toplam Çevrim} & \textbf{Ortalama IPC} \\
\midrule
1-Yollu (Scalar) & 705,5 & 70.550 & 0,84 \\
3-Yollu (Süperölçekli) & 345,8 & 34.580 & 1,71 \\
\midrule
\textbf{İyileşme Oranı} & \textbf{2,04x} & \textbf{2,04x} & \textbf{\%103} \\
\bottomrule
\end{tabular}
\end{table}

Elde edilen sonuçlara göre, üç yollu paralel yürütme yapısı sayesinde scalar çekirdeğe göre yaklaşık 2,04 kat hızlanma elde edilmiştir. Ortalama IPC değerinin 0,84'ten 1,71'e yükselmesi, süperölçekli mimarinin komut seviyesi paralelliğini (ILP) verimli bir şekilde sömürdüğünü kanıtlamaktadır.

\subsubsection{Rastgele Test Serisi (RISC-V DV) Performans Sonuçları}

Sentetik stres testleri altında mimarinin davranışını gözlemlemek amacıyla RISC-V DV çerçevesi ile üretilen rastgele testlerin sonuçları Tablo \ref{tab:random_ipc_results} üzerinde özetlenmiştir.

\begin{table}[htbp]
\centering
\caption{Rastgele Test Senaryoları Altında IPC Karşılaştırması}
\label{tab:random_ipc_results}
\begin{tabular}{l c c c}
\toprule
\textbf{Test Senaryosu} & \textbf{1-Yollu IPC} & \textbf{3-Yollu IPC} & \textbf{Hızlanma Faktörü} \\
\midrule
Temel Aritmetik (Basic Arithmetic) & 1,00 & 2,90 & 2,90x \\
Karmaşık Aritmetik (Complex Arithmetic) & 1,00 & 2,80 & 2,80x \\
Temel Dallanma (Basic Branch) & 0,80 & 1,59 & 1,99x \\
Döngü ve Dallanma (Branch Loop) & 0,93 & 2,23 & 2,40x \\
Karmaşık Dallanma (Combo Branch) & 0,94 & 2,33 & 2,48x \\
Temel Bellek (Basic Memory) & 0,95 & 1,87 & 1,97x \\
Karmaşık Bellek (Complex Memory) & 0,76 & 1,47 & 1,93x \\
Karma Test (Complex Combo) & 0,85 & 1,65 & 1,94x \\
\bottomrule
\end{tabular}
\end{table}

Rastgele test sonuçları incelendiğinde, işlemcinin aritmetik ağırlıklı iş yüklerinde 2,90 IPC değerine ulaşarak %97 gibi oldukça yüksek bir teorik verimliliğe ulaştığı görülmektedir. Ancak dallanma ve bellek yoğunluklu senaryolarda IPC değerlerinde düşüşler gözlemlenmiştir.

\subsection{Boru Hattı Tıkanıklık ve Darboğaz Analizi}

İşlemcinin performansını sınırlayan unsurları (bottleneck) mikromimari seviyesinde tespit etmek amacıyla, boru hattının her bir aşamasında oluşan tıkanıklıklar detaylı olarak incelenmiştir. Bu analiz kapsamında izlenen temel performans parametreleri şunlardır:

\begin{itemize}
    \item \textbf{Kaynak Doluluğu:} Yeniden sıralama tamponu (ROB) ve yükleme-saklama kuyruğunun (LSQ) doluluk oranları, komut dağıtım aşamasını (dispatch) durduran temel unsurlar olarak takip edilmektedir.
    \item \textbf{Rezervasyon İstasyonu (RS) Duraklamaları:} Komutların yürütme birimlerine gönderilememesinin nedenleri; getirme birimi boşalması (instruction starvation), çözümleme (decode) aşaması gecikmeleri veya dal yanlış tahmini sonrası boru hattının temizlenmesi (flush) gibi kategorilere ayrılmıştır.
    \item \textbf{Bağımlılık Duraklamaları:} Komutların kaynak operandlarının hazır olmaması nedeniyle döngü bazlı bekleme süreleri ve Ortak Veri Yolu (CDB) üzerindeki veri iletim yoğunluğu analiz edilmektedir.
\end{itemize}

\subsection{Korelasyon Analizi ve Performans Tahmini}

İşlemci performansını etkileyen faktörlerin birbirleriyle olan ilişkisini anlamak amacıyla istatistiksel bir analiz yöntemi izlenmiştir. Simülasyonlardan elde edilen veriler üzerinde Pearson korelasyon katsayısı kullanılarak, IPC değeri ile dal yanlış tahmini (misprediction) ve bellek operasyonları arasındaki ilinti hesaplanmıştır.

Performans analizinde korelasyon değerleri şu yaklaşımla elde edilmektedir:
\begin{itemize}
    \item \textbf{Pearson Korelasyonu:} IPC ile belirli bir metrik (örneğin bellek erişimi) arasındaki doğrudan doğrusal ilişkiyi ölçmektedir.
    \item \textbf{Kısmi Korelasyon (Partial Correlation):} Bir faktörün etkisini (örneğin dal tahmin hatası) sabit tutarak, diğer bir faktörün (örneğin bellek gecikmesi) performans üzerindeki saf etkisini izole etmektedir.
\end{itemize}

Yapılan istatistiksel analizler sonucunda, süperölçekli mimarinin en temel performans kısıtının dal tahmin hataları olduğu teyit edilmiştir. Pearson korelasyonu, 3-yollu yapıda dal yanlış tahmini oranı ile IPC arasında $-0,74$ düzeyinde güçlü bir negatif ilişki ortaya koymuştur. 

Bu noktada, dal tahminci başarımı üzerine önemli bir gözlem yapılmıştır. Deterministik algoritma testlerinde (gerçek dünya iş yüklerini temsil eden) **\%80'den fazla** tahmin doğruluğuna ulaşan mimari, rastgele test setlerinde \%32-\%43 bandında bir başarı sergilemiştir. Bu keskin düşüş, dal tahmincisinin yapısal yetersizliğinden ziyade, rastgele üretilen komut dizilerinin herhangi bir istatistiksel patern veya döngüsel yapı içermemesinden kaynaklanmaktadır. Bu durum, dal tahmincisinin gerçek uygulamalarda yüksek verimlilik sunarken, tahmin edilemez sentetik stres testleri altında dahi boru hattını güvenli bir şekilde temizleyip (flush) doğru yürütme akışını sürdürebildiğini kanıtlamaktadır.

Daha dikkat çekici bir bulgu ise kısmi korelasyon analizinden elde edilmiştir; bellek operasyonlarının saf performans etkisi, dal tahmin hataları arındırıldığında scalar çekirdekte $-0,21$ iken süperölçekli çekirdekte $-0,80$ seviyesine çıkmaktadır. Bu durum, mimari genişledikçe bellek sisteminin performans üzerindeki etkisinin (Memory Wall) çok daha belirgin hale geldiğini ve dal tahminci iyileştirilmelerinin ardından bellek gecikmelerinin ana darboğaz olacağını göstermektedir.

\subsection{Performans İzleme Arayüzü (GUI)}

Boru hattı aktivitelerini, istatistiksel verileri ve darboğaz analizlerini görselleştirmek amacıyla özel bir grafik kullanıcı arayüzü (GUI) geliştirilmiştir. Bu arayüz, simülasyon sırasında üretilen performans kayıtlarını anlamlandırarak; IPC değişim grafiği, stall dağılım yüzdeleri ve dal tahmin başarımı gibi kritik verileri canlı veya simülasyon sonrası analiz için sunmaktadır (Şekil \ref{fig:perf_gui}).

\begin{figure}[htbp]
    \centering
    %\includegraphics[width=0.8\textwidth]{figures/perf_gui.png}
    \caption{Geliştirilen Performans İzleme ve Darboğaz Analiz Arayüzü}
    \label{fig:perf_gui}
\end{figure}

Geliştirilen bu araç, mimari üzerindeki optimizasyon çalışmalarında darboğazların hızlıca tespit edilmesini ve gerçekleştirilen değişikliklerin sisteme etkisinin doğrudan gözlemlenmesini sağlamıştır.

%------------------------------------------------------------------------
\section{Hata Enjeksiyonu ve Güvenilirlik Doğrulaması}\label{sec:fault_injection}
%------------------------------------------------------------------------

Bölüm \ref{ch:redundancy}'de açıklanan donanımsal yedeklilik mekanizmalarının etkinliğini doğrulamak için özel bir güvenilirlik analiz süreci işletilmiştir. Tasarımın fiziksel hatalara karşı direnci, mikromimari seviyesinde gerçekleştirilen hata enjeksiyon testleri ile ölçülmüştür.

\subsection{Hata Enjeksiyon Metodolojisi}

Hata enjeksiyon doğrulamasında başlangıçta Cadence Safety Simulation araçlarının kullanılması planlanmış, ancak uygulama sürecinde karşılaşılan lisans kısıtlamaları nedeniyle özel bir hata enjeksiyon modülü geliştirilerek test ortamına entegre edilmiştir. Bu modül, işlemcinin çalışma zamanındaki davranışını bozmadan, dinamik olarak hata üretme ve izleme yeteneğine sahiptir.

Geliştirilen enjeksiyon mekanizması, tasarım içerisinde ECC (Error Correction Code) gibi yöntemlerle korunduğu varsayılan bellek yapıları dışındaki herhangi bir fiziksel yazmacı (register) hedef alabilmektedir. Hata modeli olarak "bit-flipping" yöntemi kullanılmış; seçilen yazmaçlardaki rastgele bir bitin değeri anlık olarak tersine çevrilerek tekil olay bozulmaları (SEU) taklit edilmiştir. Bu yöntemle, hata tolerans altyapısının bu tip anlık bozulmaları ne ölçüde maskeleyebildiği ve sistemin bütünlüğünü nasıl koruduğu test edilmiştir.

\subsection{Hata Tolerans ve Kurtarma Sonuçları}

Hata enjeksiyon testlerinde, korunan modüller üzerindeki oylama mekanizmalarının hatalı veriyi sistemin geri kalanına sızdırmadan temizlediği teyit edilmiştir. Testbench tarafından canlı olarak yayınlanan istatistikler, enjekte edilen toplam hata sayısı ile oylayıcılar tarafından yakalanarak düzeltilen hata sayılarını karşılaştırmalı olarak raporlamaktadır. [HATA KURTARMA ORANLARI VE TABLOLAR BURAYA GELECEK]


%------------------------------------------------------------------------
\section{Lojik Sentez Sonuçları}\label{sec:sentez}
%------------------------------------------------------------------------

Tasarım, Cadence Genus 23.11 lojik sentez aracı kullanılarak endüstriyel bir üretim teknolojisine sentezlenmiştir. Hedef teknoloji olarak TSMC 16nm FinFET sürecinin düşük eşik voltajlı (LVT) hücre kütüphanesi seçilmiştir.

Sentez işlemi, tipik çalışma koşulları (TT köşesi) altında, 0.8V besleme voltajı ve 25$^\circ$C sıcaklık değerleri için gerçekleştirilmiştir. Zamanlama kısıtı olarak 1 ns saat periyodu belirlenmiş olup, bu değer 1 GHz çalışma frekansına karşılık gelmektedir.

\subsection{Zamanlama ve Hücre Kullanımı}\label{subsec:timing_syn}

Lojik sentez sonucunda elde edilen zamanlama sonuçları, belirlenen 1 GHz hedef frekansının karşılandığını göstermektedir. Tablo \ref{tab:synthesis_results}, sentez aşamasında elde edilen temel metrikleri özetlemektedir.

\begin{table}[htbp]
\centering
\caption{Lojik Sentez Sonuçları}
\label{tab:synthesis_results}
\begin{tabular}{p{6cm} r}
\toprule
\textbf{Metrik} & \textbf{Değer} \\
\midrule
Hedef Teknoloji & TSMC 16nm FinFET LVT \\
\midrule
Çalışma Koşulları & TT, 0.8V, 25$^\circ$C \\
\midrule
Hedef Saat Periyodu & 1 ns (1 GHz) \\
\midrule
Toplam Hücre Sayısı & 141.868 \\
\midrule
En Kötü Durum Slack Değeri & 0 ps (zamanlama karşılandı) \\
\midrule
Toplam Güç Tüketimi & 150.4 mW \\
\bottomrule
\end{tabular}
\end{table}

Sentez aşamasında tespit edilen kritik yol, yürütme aşamasından spekülatif yürütme kurtarma altyapısına uzanan sinyal yolunda oluşmaktadır. Bu yolun toplam kombinasyonel gecikmesi 937 ps olarak ölçülmüş olup, kalan 63 ps kurulum zamanı (setup time) ve zamanlama belirsizliği (uncertainty) için ayrılmıştır.

\subsection{Güç Tüketimi Analizi}\label{subsec:power_syn}

Sentez aşamasında gerçekleştirilen güç analizi, rastgele test aktivitesi varsayımı altında toplam güç tüketimini ortaya koymaktadır. Tablo \ref{tab:power_syn}, güç bileşenlerinin dağılımını göstermektedir.

\begin{table}[htbp]
\centering
\caption{Sentez Aşaması Güç Dağılımı}
\label{tab:power_syn}
\begin{tabular}{p{5cm} r r}
\toprule
\textbf{Güç Kategorisi} & \textbf{Değer (mW)} & \textbf{Oran} \\
\midrule
Dahili Güç (Internal Power) & 87.3 & \%58.0 \\
\midrule
Anahtarlama Gücü (Switching Power) & 63.0 & \%41.9 \\
\midrule
Kaçak Güç (Leakage Power) & 0.2 & \%0.1 \\
\midrule
\textbf{Toplam Güç Tüketimi} & \textbf{150.4} & \textbf{\%100} \\
\bottomrule
\end{tabular}
\end{table}

Güç dağılımı analiz edildiğinde, dahili gücün baskın bileşen olduğu görülmektedir. Bu durum, işlemci içindeki ardışık elemanların (flip-flop) yoğunluğunu yansıtmaktadır. Süperölçekli yapıda yazmaç dosyası, yeniden sıralama tamponu, dal tahmini geçmişi tablosu ve yükleme-saklama kuyruğu gibi yapılar önemli miktarda ardışık eleman içermektedir.

%------------------------------------------------------------------------
\section{Fiziksel Tasarım Sonuçları}\label{sec:pnr}
%------------------------------------------------------------------------

Lojik sentez çıktısı, Cadence Innovus 22.31 fiziksel tasarım aracı kullanılarak yerleştirme ve yönlendirme (Place and Route) aşamasından geçirilmiştir. Fiziksel tasarım sürecinde saat ağacı sentezi, yerleştirme optimizasyonu ve sinyal yönlendirmesi gerçekleştirilmiştir.

\subsection{Zamanlama Analizi}\label{subsec:pnr_timing}

Fiziksel tasarım sonrası zamanlama analizi, gerçek tel gecikmelerinin hesaba katılmasıyla lojik senteze göre farklı sonuçlar ortaya koymaktadır. Tablo \ref{tab:pnr_results}, fiziksel tasarım sonuçlarını özetlemektedir.

\begin{table}[htbp]
\centering
\caption{Fiziksel Tasarım Sonuçları}
\label{tab:pnr_results}
\begin{tabular}{p{6cm} r}
\toprule
\textbf{Metrik} & \textbf{Değer} \\
\midrule
Toplam Hücre Sayısı & 146.500 \\
\midrule
En Kötü Durum Slack Değeri & -106 ps \\
\midrule
Ulaşılabilir Çalışma Frekansı & $\sim$900 MHz \\
\midrule
Toplam Güç Tüketimi & 131.6 mW \\
\bottomrule
\end{tabular}
\end{table}

Fiziksel tasarım aşamasında hücre sayısının lojik senteze göre artış göstermesinin temel nedeni, zamanlama optimizasyonu amacıyla eklenen tampon hücreleri ve saat ağacı sentezi sırasında yerleştirilen saat tamponlarıdır.

Fiziksel tasarım sonrası kritik yol, spekülatif yürütme kurtarma altyapısındaki işaretçi yazmaçlarından yürütme aşamasındaki kaynak yönetimi işaretçilerine uzanan sinyal yolunda tespit edilmiştir. Fiziksel tasarım sonucunda 1 GHz hedef frekans tutturulamamış olup, kritik yolda 106 ps zamanlama ihlali (timing violation) oluşmuştur.

Bu sonuç, tasarımın 1 GHz hedef frekansını tam olarak karşılayamadığını, ancak yaklaşık 900 MHz civarında güvenli biçimde çalışabileceğini göstermektedir. Zamanlama ihlalinin giderilmesi için kritik yol üzerindeki kombinasyonel mantığın yeniden yapılandırılması veya daha agresif sentez kısıtlamalarının uygulanması değerlendirilebilir.

\subsection{Güç Tüketimi Analizi}\label{subsec:power_pnr}

Fiziksel tasarım sonrası güç analizi, lojik sentez aşamasına göre daha düşük toplam güç tüketimi göstermektedir. Bu fark, yerleştirme optimizasyonunun daha kısa tel uzunlukları sağlaması ve dolayısıyla kapasitif yükün azalmasından kaynaklanmaktadır. Tablo \ref{tab:power_pnr}, fiziksel tasarım sonrası güç dağılımını göstermektedir.

\begin{table}[htbp]
\centering
\caption{Fiziksel Tasarım Aşaması Güç Dağılımı (1 GHz, 0.8V)}
\label{tab:power_pnr}
\begin{tabular}{p{5cm} r r}
\toprule
\textbf{Güç Kategorisi} & \textbf{Değer (mW)} & \textbf{Oran} \\
\midrule
Dahili Güç (Internal Power) & 78.3 & \%59.5 \\
\midrule
Anahtarlama Gücü (Switching Power) & 53.1 & \%40.3 \\
\midrule
Kaçak Güç (Leakage Power) & 0.24 & \%0.2 \\
\midrule
\textbf{Toplam Güç Tüketimi} & \textbf{131.6} & \textbf{\%100} \\
\bottomrule
\end{tabular}
\end{table}

Bu güç analizi sonuçları, tasarım aracının varsayılan \%20 anahtarlama aktivitesi kabulüne dayandığından kapsamlı bir analiz niteliği taşımamaktadır. Daha doğru güç tahminleri için gerçek iş yüklerinden elde edilen anahtarlama aktivitesi bilgisinin (Value Change Dump - VCD dosyası) güç analizi aracına beslenmesi gerekmektedir.

%------------------------------------------------------------------------
\section{Kritik Yol Analizi ve Değerlendirme}\label{sec:critical_path}
%------------------------------------------------------------------------

Her iki tasarım aşamasında da kritik yol, spekülatif yürütme altyapısının temel bileşenleri arasındaki sinyal iletiminde oluşmaktadır. Tablo \ref{tab:critical_paths}, sentez ve fiziksel tasarım aşamalarındaki kritik yolları karşılaştırmaktadır.

\begin{table}[htbp]
\centering
\caption{Kritik Yol Karşılaştırması}
\label{tab:critical_paths}
\begin{tabular}{p{3cm} p{5cm} r r}
\toprule
\textbf{Aşama} & \textbf{Kritik Yol Tanımı} & \textbf{Gecikme} & \textbf{Slack} \\
\midrule
Lojik Sentez & Kuyruk yazmacından spekülatif kurtarma belleğine & 937 ps & 0 ps \\
\midrule
Fiziksel Tasarım & Kurtarma işaretçisinden kaynak işaretçisine & 1054 ps & -106 ps \\
\bottomrule
\end{tabular}
\end{table}

Kritik yolun her iki aşamada da spekülatif yürütme mekanizması içinde oluşması rastlantı değildir. Sıra dışı yürütme mimarilerinde dal yanlış tahmini durumunda işlemci durumunun hızlı biçimde geri alınması için tüm kritik işaretçilerin tek çevrimde güncellenmesi gerekmektedir. Bu gereksinim, yükleme-saklama kuyruğu, yeniden sıralama tamponu ve dal kurtarma yapısı arasında geniş çaplı kombinasyonel bağlantılar oluşturmaktadır.

%------------------------------------------------------------------------
\section{Tartışma}\label{sec:tartisma}
%------------------------------------------------------------------------

\subsection{Sonuçların Değerlendirilmesi}\label{subsec:degerlendirme}

Bu çalışmada sunulan doğrulama ve gerçekleme sonuçları, tasarlanan üç yollu süperölçekli RISC-V işlemcisinin hem fonksiyonel doğruluk hem de fiziksel gerçeklenebilirlik açısından değerlendirilmesine olanak tanımaktadır.

Fonksiyonel doğrulama açısından, yaklaşık 210.000 komutluk test kapsamı hem rastgele hem de deterministik test programlarını içermektedir. Tüm testlerin Spike referans modeli ile tam uyumu, işlemcinin RV32I komut seti mimarisini eksiksiz olarak gerçeklediğini doğrulamaktadır. Özellikle karmaşık algoritma testlerinin başarılı tamamlanması, spekülatif yürütme ve kurtarma mekanizmalarının farklı hesaplama desenleri altında doğru çalıştığını göstermektedir.

Lojik sentez sonuçları, 16nm FinFET teknolojisinde yaklaşık 142.000 hücre kullanılarak 1 GHz frekansın ulaşılabilir olduğunu ortaya koymaktadır. Ancak fiziksel tasarım aşamasında gerçek tel gecikmelerinin hesaba katılmasıyla 106 ps'lik zamanlama ihlali oluşmakta, bu durum ulaşılabilir frekansı yaklaşık 900 MHz seviyesine çekmektedir.

Güç tüketimi açısından fiziksel tasarım sonrası elde edilen 131.6 mW değeri değerlendirilmelidir. Karşılaştırma amacıyla, Berkeley'in tek yollu sıralı Rocket çekirdeği TSMC 40nm teknolojide 0.034 mW/MHz dinamik güç tüketimi göstermektedir \cite{rocket_power}. Teknoloji farkı göz önünde bulundurulduğunda doğrudan karşılaştırma yapılamamakla birlikte, tasarlanan işlemcinin üç yollu paralel yürütme kapasitesi, spekülatif yürütme altyapısı ve yeniden sıralama mekanizmaları güç artışının temel kaynakları olarak değerlendirilebilir.

\subsection{Kısıtlamalar ve Gelecek Çalışmalar}\label{subsec:kisitlamalar}

Bu çalışmanın bazı kısıtlamaları bulunmakta olup, gelecek çalışmalarda ele alınması öngörülmektedir:

    \item \textbf{Zamanlama İhlali:} Fiziksel tasarım sonrası 1 GHz hedef frekansına tam olarak ulaşılamamıştır. Kritik yolun yeniden yapılandırılması, ardışık düzen aşamalarının eklenmesi veya daha agresif sentez kısıtlamalarının uygulanması ile bu ihlal giderilebilir.
    
    \item \textbf{Bellek Entegrasyonu:} Mevcut gerçekleme ideal bellek modelleri kullanmaktadır. Gerçek SRAM makrolarının entegrasyonu, ek gecikme ve alan maliyeti getirecek olup, zamanlama analizi bu koşullar altında yeniden değerlendirilmelidir.
    
    \item \textbf{Genişletilmiş Güvenilirlik:} Mevcut çalışmada kritik kontrol işaretçileri TMR ile korunmuştur. Gelecek çalışmalarda, bellek yapılarının korunması için kullanılan ECC yöntemlerinin fiziksel tasarımı ve sistem geneline yayılmış daha kapsamlı hata tespit mekanizmaları ele alınabilir.
\end{enumerate}